<!DOCTYPE html>
<html lang="ru"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>Incoming out call bot control panel</title>
	<meta name="author" content="Pavel Serikov">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/css/bootstrap.min.css" integrity="sha512-SbiR/eusphKoMVVXysTKG/7VseWii+Y3FdHrt0EpKgpToZeemhqHeZeLWLhJutz/2ut2Vw1uQEj2MbRF+TVBUA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
  <div class="container" id="app">
    <h1>Запуск исходящего обзвона</h1>
    <form id="main_form" class="needs-validation" data-toggle="validator">
      <div class="row">
        <div class="col-lg-5">
          <div class="form-floating">
            <select name="work_id" class="form-select" id="floatingCategorySelect" aria-label="" required>
              <option selected>Выберите вертикаль</option>
              <option>Электрики</option>
              <option>Сантехники</option>
              <option>Разнорабочие</option>
              <option>Клининг</option>
            </select>
            <label for="floatingSelect">Вертикаль</label>
          </div>
        </div>
				<div class="col-lg-2">
					<div class="form-floating">
					  <input name="people_n" type="text" class="form-control form-control-lg" placeholder="5" id="people_n" aria-label="people_n" aria-describedby="basic-addon1" required>
					  <label for="people_n">Кол-во чел.</label>
					</div>
				</div>
				<div class="col-lg-5">
          <div class="form-floating">
            <select name="city_id" class="form-select" id="floatingCitySelect" aria-label="" required>
              <option selected>Выберите город</option>
              <option>Краснодар</option>
              <option>Воронеж</option>
              <option>Ростов-на-Дону</option>
              <option>....</option>
            </select>
            <label for="floatingSelect">Город</label>
          </div>
        </div>
      </div>

			<div class="row">
				<div class="col-lg-12">
					<div id="users_count_alert" role="alert"></div>
				</div>
			<div>

      <div class="row">
        <div class="col-lg-6 col-md-12 col-sm-12">
					<div class="input-group mb-3">
            <span class="input-group-text" id="address">Адрес</span>
            <input name="address" type="text" class="form-control" placeholder="улица, дом" aria-label="address" aria-describedby="address" required>
          </div>
          <div class="input-group mb-3">
            <span class="input-group-text" id="dt_start">Дата и время начала работы</span>
            <input name="dt_start" type="datetime-local" class="form-control" placeholder="dt_start" aria-label="dt_start" aria-describedby="dt_start" required>
          </div>
          <div class="input-group mb-3">
            <span class="input-group-text" id="price_rub">Вознаграждение, руб</span>
            <input name="price_rub" type="text" class="form-control" placeholder="2000" aria-label="price_rub" aria-describedby="price_rub" required>
          </div>
          <div class="form-floating">
            <textarea name="comment" class="form-control" placeholder="Leave a comment here" id="floatingTextarea2" style="height: 100px" required></textarea>
            <label for="floatingTextarea2">Дополнительные параметры заказа</label>
          </div>
        </div>
        <div class="col-lg-6 col-md-12 col-sm-12">
          <h3>Дополнительные вопросы</h3>

					{% for key,value in ab_questions.iterrows() %}
					<div class="form-check">
            <input name="question_ids[]" class="form-check-input" type="checkbox" value="{{ value['id'] }}" id="ab_question_{{ value['id'] }}">
            <label class="form-check-label" for="ab_question_{{ value['id'] }}">{{ value['label'] }}</label>
          </div>
					{% endfor %}

        </div>
      </div>
      <div class="row">
        <div class="col col-lg-12">
        <!-- <button type="button" class="btn btn-primary">Поехали</button> -->
				<a href="#" id="newGroupCallBtn" class="btn btn-primary btn-lg" role="button" aria-disabled="true">Поехали</a>
				<button type="button" class="btn btn-secondary" id="fillTestBtn">Тестовая группа 1 (bigdata)</button>
				<button type="button" class="btn btn-secondary" id="fillTestBtn2">Тестовая группа 2 (crm)</button>
                <a type="button" class="btn btn-secondary" href="/examples/2">Тестовая группа 3 (произв. номера)</a>
				<button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModal">Тестовый звонок</button>
        </div>
      </div>
    </form>
  </div>


	<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Тестовый звонок</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div id="call_summary"></div>
				<div class="mb-3">
				  <label for="test_phone" class="form-label">Телефон</label>
				  <input type="phone" class="form-control" id="test_phone" placeholder="+79XXxxxXXxx">
				</div>
        <div class="mb-3">
				  <label for="talker_name" class="form-label">Имя</label>
				  <input type="text" class="form-control" id="talker_name" placeholder="Иван">
				</div>
				<div class="mb-3">
					<div id="test_call_id_alert" role="alert"></div>
				<div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" id="run_test_call" class="btn btn-success">Поехали</button>
      </div>
    </div>
  </div>
</div>

	<!-- <script
  src="https://code.jquery.com/jquery-3.6.4.min.js"
  integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
  crossorigin="anonymous"></script> -->

	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.47/vue.global.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
	<!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> -->
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/petite-vue/0.4.1/petite-vue.umd.min.js" integrity="sha512-52NSl2MB2XRqdW9Eigy5kaeYr/bqvX4cHV7X0m8O2a87g33/sjpmnjc2764lqARkS89hryIxUh5PWk0t0GvxSA==" crossorigin="anonymous" referrerpolicy="no-referrer" defer init></script> -->
	<script type="text/javascript" src="jquery-3.6.4.min.js"></script>
	<script type="text/javascript" src="jquery.serialize-object.min.js"></script>
	<script type="text/javascript" src="bootstrap.bundle.min.js"></script>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.bundle.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
	<script type="text/javascript" src="main.js"></script>
</body>
</html>
